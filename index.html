<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Zero to API Hero</title>

		<meta name="description" content="#RailsConf 2016: Tips for integrating 3rd party APIs">
		<meta name="author" content="Cecy Correa, @cecycorrea on Twitter">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<div class="slides">
				<section>
					<h1>Zero to API Hero</h1>
					<h2>Consuming 3rd party APIs like a pro</h2>
					<p>Cecy Correa, <a href="http://twitter.com/cecycorrea">@cecycorrea</a></p>
					<p><small>#RailsConf 2016</small></p>
				</section>
				<section>
					<h2>Who? Why?</h2>
					<p>My name is Cecy Correa</p>
					<p>Associate Engineer at ReturnPath</p>
					<img src="images/contextio-logo.png" alt="" style="width:20%">
				</section>
				<section data-background="https://media.giphy.com/media/13HgwGsXF0aiGY/giphy.gif">
					<div class="highlighted-bg">
						<h2>I help developers integrate our APIs</h2>
					</div>
				</section>
				<section>
					<h1>The problem</h1>
				</section>
				<section>
					<h2>Too much magic?</h2>
					<pre><code class="ruby">
Rails.application.routes.draw do
  resources :users
end
					</code></pre>
					<pre><code class="ruby">
$ rake routes
   Prefix Verb   URI Pattern               Controller#Action
    users GET    /users(.:format)          users#index
          POST   /users(.:format)          users#create
 new_user GET    /users/new(.:format)      users#new
edit_user GET    /users/:id/edit(.:format) users#edit
     user GET    /users/:id(.:format)      users#show
          PATCH  /users/:id(.:format)      users#update
          PUT    /users/:id(.:format)      users#update
          DELETE /users/:id(.:format)      users#destroy
					</code></pre>
					<p><em>Credit: @schneems</em></p>
				</section>
				<section data-background="http://i.imgur.com/uDNqsKs.gif">
				</section>
				<section>
					<h2>Agenda</h2>
					<p>Tools you can use to consume APIs good (and do other things good too)</p>
					<ul>
						<li class="fragment">Anatomy of an API call</li>
						<li class="fragment">HTTP status codes (and what to do about them!)</li>
						<li class="fragment">Working with gems</li>
						<li class="fragment">Tools, debugging, testing</li>
						<li class="fragment">Demo time!</li>
					</ul>
				</section>
				<section data-background="https://media.giphy.com/media/adhuPKADfzrDG/giphy.gif">
					<h2 class="highlighted-bg">Anatomy of an API call</h2>
				</section>
				<section>
					<h2>Anatomy of an API call</h2>
					<p>IMAGE</p>
					<p>URL / endpoint --> resource</p>
					<p>Method / VERB</p>
					<p>Headers</p>
					<p>Body: data being passed around, looser in structure</p>
				</section>
				<section>

					<section>
					<h2>Anatomy of an API call</h2>
					<p><strong>URL:</strong> aka endpoint</p>
					<pre><code class="ruby">
http://mycoolapi.com/photos
					</code></pre>
					<p class="fragment"><strong>Resource:</strong> what you are trying to access (in this case <em>photos</em>)</p>
					</section>

					<section>
						<h2>Anatomy of an API call</h2>
						<p><strong>Method:</strong> aka verb</p>
						<pre><code class="ruby">
GET http://mycoolapi.com/photos
						</code></pre>
						<p class="fragment">The action you want to do.</p>
					</section>

					<section>
						<h2>Anatomy of an API call</h2>
						<p><strong>Headers:</strong> info about the request / response</p>
						<pre><code class="ruby">
GET http://mycoolapi.com/photos
						</code></pre>
						<pre><code class="ruby">
Accept: application/json
Host: mycoolapi.com
						</code></pre>
					</section>

					<section>
						<h2>Anatomy of an API call</h2>
						<p><strong>Body:</strong> data sent / received</p>
						<pre><code class="ruby">
GET http://mycoolapi.com/photos
						</code></pre>
						<pre><code class="ruby">
Content-type: application/json
Date: Wed, 3 May 2016 01:23:45
					</code></pre>
				<pre><code class="ruby">
[
	{
		"photo_url": "http://mycoolapi.com/photos/12345.jpg"
	}
]
		</code></pre>
				</section>

		</section>

				<section>
					<h2>Assumptions</h2>
					<ul>
						<li class="fragment">Using HTTP protocol</li>
						<li class="fragment">RESTful API</li>
						<li class="fragment">Using JSON</li>
					</ul>
					<p class="fragment">Not all APIs are this way, but most you will encounter for public consumption are.</p>
				</section>
				<section data-background="https://media.giphy.com/media/xRJZH4Ajr973y/giphy.gif">
					<h2 class="highlighted-bg">HTTP status codes!<br> and what to do about them</h2>
				</section>
				<section>
					<h2>Status codes</h2>
					<p class="fragment">Status codes are not arbitrary!</p>
					<p class="fragment">Some people spend a lot of time picking the right status code!</p>
					<p class="fragment"><em>(I'm going to focus on the ones used for APIs most often)</em></p>
				</section>
				<section>
					<h2>Status codes in a nutshell</h2>
					<ul>
						<li class="fragment">10x: informational</li>
						<li class="fragment">20x: everything is a-ok üëç</li>
						<li class="fragment">30x: go away (redirects)</li>
						<li class="fragment">40x: YOU messed up</li>
						<li class="fragment">50x: WE messed up</li>
					</ul>
				</section>
				<section data-background="http://i.giphy.com/YabqH4YYNJGOk.gif">
					<h2 class="highlighted-bg">200</h2>
				</section>
				<section data-background="http://i0.kym-cdn.com/photos/images/newsfeed/000/148/288/FSM.jpg">
					<h2 class="highlighted-bg">201: created</h2>
				</section>
				<section data-background="http://31.media.tumblr.com/b02dcbcab0de039640ad8cc6cdb04cbe/tumblr_inline_mugmc4ylHK1ra0kdy.gif">
					<h2 class="highlighted-bg">202</h2>
				</section>
				<section data-background="http://i.giphy.com/xT0BKB40Ulk8YKKaAM.gif">
					<h2 class="highlighted-bg">302</h2>
				</section>
				<section data-background="http://i3.ytimg.com/vi/jG2KMkQLZmI/hqdefault.jpg">
					<h2 class="highlighted-bg">400: Your request is bad and you should feel bad</h2>
					<p class="fragment highlighted-bg">You should now submit the request again without modifications (i.e. check your params, bro)</p>
				</section>
				<section data-background="http://i.giphy.com/xyalr6LBFVobe.gif">
					<h2 class="highlighted-bg">401: Unauthorized</h2>
					<p class="fragment highlighted-bg">Check your creds, bro cuz</p>
				</section>
				<section data-background="https://s-media-cache-ak0.pinimg.com/736x/44/02/c6/4402c63eb5e342ece86bd72422e426db.jpg">
					<h2 class="highlighted-bg">403: Forbidden</h2>
					<p class="fragment highlighted-bg">Creds could be wrong, but also not</p>
				</section>
				<section data-background="http://i.giphy.com/10yCCWBLSWKfFC.gif">
					<h2 class="highlighted-bg">418: I'm a teapot</h2>
					<p class="fragment highlighted-bg"><a href="https://www.ietf.org/rfc/rfc2324.txt">April Fools' Joke</a></p>
				</section>
				<section data-background="http://i.makeagif.com/media/9-11-2015/YOSxdz.gif">
					<h2 class="highlighted-bg">500</h2>
					<p class="fragment highlighted-bg">Standard error. Not sure what happened but def. not your fault.</p>
				</section>
				<section data-background="http://thepapermama.com/wp-content/uploads/dubstepcat-1.gif">
					<h2 class="highlighted-bg">503: Unavailable</h2>
					<p class="fragment highlighted-bg">API could be down, or maybe throttling</p>
				</section>
				<section>
					<h1>For real,<br>pay attention to the status code you get!</h1>
				</section>
				<section>
					<h2>Authentication</h2>
					<ul>
						<li clas="fragment">No authentication</li>
						<li clas="fragment">Developer authentication</li>
						<li clas="fragment">User authentication</li>
					</ul>
				</section>
				<section>
					<h2>No authentication</h2>
					<p>Some APIs don't require authentication</p>
					<ul>
						<li clas="fragment">OMDB</li>
						<li clas="fragment">Spotify</li>
					</ul>
				</section>
				<section>
					<h2>Developer authentication</h2>
					<p>API key / secret</p>
					<p>Sometimes in the header, sometimes as part of the URL</p>
					<p>Depends on the API :/</p>
				</section>
				<section>
					<h2>User authentication</h2>
					<p>Oauth is commonly used</p>
					<p>Oauth 1.0 and 2.0</p>
					<p>Lots of libraries you can use to handle Oauth.</p>
					<p>Some APIs will handle oauth for you!</p>
				</section>
				<section>
					<h2>Authentication vs. Authorization</h2>
					<p>Authentication: prove you are who you say you are</p>
					<p>Authorization: what you are authorized to access (aka scope)</p>
				</section>
				<section>
					<p>DEMO: Let's make an Oauth request and see how it works!</p>
				</section>
			<section>
				<h2>Resources</h2>
				<ul>
					<li><a href="https://zapier.com/learn/apis/">Super basic primer on APIs by Zapier</a></li>
					<li><a href="https://github.com/toddmotto/public-apis">Great collection of public APIs!</a></li>
					<li></li>
					<li></li>
				</ul>
			</section>
			<section data-background="http://i.giphy.com/ZLxT4KnmVdt1C.gif">
				<h2 class="highlighted-bg">Thank you!</h2>
			</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
